<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>My Webpage</title>
    <link rel="icon" href="static/images/heart.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
    <style>
      #tooltip {
        display: none;
        position: absolute;
        padding: 10px;
        background-color: #fff;
        border: 1px solid #ccc;
        box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }
    </style>
  </head>
  <body>
    <header>
      <nav>
        <ul>
          <li><a href="{{ url_for('index') }}">Home</a></li>
          <li><a href="{{ url_for('about_app') }}">About App</a></li>
          <li><a href="{{ url_for('did_you_know') }}">Did you know</a></li>
          <li><a href="{{ url_for('about_author') }}">About Author</a></li>
        </ul>
      </nav>
    </header>
    <main>
      <div style="color:black">
        <h1>About this application</h1>
        <p style="color:white">This app is made using Flask (Python). The graphic which is generated on the main page represents the </p>
        <img src="static/images/skica3.png" usemap="#imagemap" style="height:500px; border:none">
        <map name="imagemap">
          <area shape="rect" coords="190,118,441,471" data-info="GitHub repository" onclick="aboutGitHub()">
          <area shape="rect" coords="24,238,99,324" data-info="Developer" onclick="aboutDeveloper()">
          <area shape="rect" coords="512,116,724,459" data-info="Jenkins" onclick="aboutJenkins()">
          <area shape="rect" coords="812,194,934,369" data-info="AWS EC2" onclick="aboutEC2()">
          <area shape="rect" coords="935,194,1144,248" data-info="AWS EC2" onclick="aboutEC2()">
          <area shape="rect" coords="935,248,1108,334" data-info="Application" onclick="aboutApplication()">
          <area shape="rect" coords="934,336,1144,369" data-info="AWS EC2" onclick="aboutEC2()">
          <area shape="rect" coords="1109,249,1144,334" data-info="AWS EC2" onclick="aboutEC2()">
          <!-- add more areas here -->
        </map>
        <div id="tooltip"></div>
<!--        <div id="info"></div>-->
      </div>
    </main>
    <script>
      function aboutGitHub() {
        alert("This is a GitHub repository which contains all the source code of the application, as well as the Dockerfile and Jenkinsfile");
      }
      function aboutDeveloper() {
        alert("This is a developer. She is working on a code and when she is happy with the changes she made, she pushed her code to the GitHub repository.");
      }
      function aboutEC2() {
        alert("This is an EC2 instance which is hosted on AWS.");
      }
      function aboutJenkins() {
        alert("This is a Jenkins server. This is where the code is automatically built on each push to the GitHub repo. After the code is built, the application is deployed to the Docker container inside the EC2 AWS instance.");
      }
      function aboutApplication() {
        alert("This is your application which is located inside the Docker container, and that Docker container is running on the AWS EC2 instance. You can see the content of your web application by accessing http://<ip_address_of_ec2_instance>:<dedicated_port>");
      }
      const areas = document.getElementsByTagName('area');
      const tooltip = document.getElementById('tooltip');

      for (let i = 0; i < areas.length; i++) {
        areas[i].addEventListener('mouseover', function(e) {
          const info = e.target.dataset.info;
          tooltip.textContent = info;
          tooltip.style.display = 'block';
          tooltip.style.top = e.pageY + 'px';
          tooltip.style.left = e.pageX + 'px';
        });

        areas[i].addEventListener('mouseout', function(e) {
          tooltip.style.display = 'none';
        });
      }
    </script>
  </body>
</html>
